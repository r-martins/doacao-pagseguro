(function(e){function t(t){for(var n,r,a=t[0],s=t[1],l=t[2],b=0,p=[];b<a.length;b++)r=a[b],Object.prototype.hasOwnProperty.call(c,r)&&c[r]&&p.push(c[r][0]),c[r]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);i&&i(t);while(p.length)p.shift()();return u.push.apply(u,l||[]),o()}function o(){for(var e,t=0;t<u.length;t++){for(var o=u[t],n=!0,a=1;a<o.length;a++){var s=o[a];0!==c[s]&&(n=!1)}n&&(u.splice(t--,1),e=r(r.s=o[0]))}return e}var n={},c={app:0},u=[];function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],s=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var i=s;u.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"1eba":function(e,t,o){"use strict";o("2116")},2116:function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);var n=o("7a23");const c={class:"logo"},u=["src"],r={class:"contrib-title"},a={class:"frequency"},s={class:"monthly-info"},l={class:"amounts"},i={key:0,class:"custom-amount"},b={class:"error"},p={key:1},m={key:2},d={key:0},j={class:"payLink"},O=["href"],f={key:3,class:"by"};function v(e,t,o,v,g,y){const h=Object(n["j"])("CustomAmountInput"),A=Object(n["j"])("Spinner");return Object(n["h"])(),Object(n["c"])("form",{onSubmit:t[6]||(t[6]=Object(n["p"])((...e)=>v.handleSubmit&&v.handleSubmit(...e),["prevent"])),class:"mainForm"},[Object(n["d"])("div",c,[Object(n["d"])("img",{alt:"Logo",src:v.logo},null,8,u)]),Object(n["d"])("h2",r,Object(n["k"])(v.title),1),Object(n["d"])("div",a,[Object(n["d"])("button",{class:Object(n["g"])(["unique",{active:"U"==v.frequency}]),onClick:t[0]||(t[0]=Object(n["p"])(e=>v.frequency="U",["prevent"]))},"Única",2),Object(n["d"])("button",{class:Object(n["g"])(["monthly",{active:"M"==v.frequency}]),onClick:t[1]||(t[1]=Object(n["p"])(e=>v.frequency="M",["prevent"]))},"Mensal",2),Object(n["o"])(Object(n["d"])("p",s,"Você pode cancelar a qualquer momento direto na sua conta PagSeguro.",512),[[n["m"],"M"==v.frequency]])]),t[12]||(t[12]=Object(n["d"])("hr",null,null,-1)),t[13]||(t[13]=Object(n["d"])("h2",{class:"amount-title"},"Escolha um valor",-1)),Object(n["d"])("div",l,[Object(n["d"])("button",{class:Object(n["g"])(["option",{active:10==v.amount}]),onClick:t[2]||(t[2]=Object(n["p"])(e=>{v.amount=10,v.useCustomAmount=!1},["prevent"]))},"R$ 10",2),Object(n["d"])("button",{class:Object(n["g"])(["option",{active:50==v.amount}]),onClick:t[3]||(t[3]=Object(n["p"])(e=>{v.amount=50,v.useCustomAmount=!1},["prevent"]))},"R$ 50",2),Object(n["d"])("button",{class:Object(n["g"])(["option",{active:100==v.amount}]),onClick:t[4]||(t[4]=Object(n["p"])(e=>{v.amount=100,v.useCustomAmount=!1},["prevent"]))},"R$ 100",2),Object(n["d"])("button",{class:Object(n["g"])(["option",{active:v.useCustomAmount}]),onClick:t[5]||(t[5]=Object(n["p"])((...e)=>v.setUseCustom&&v.setUseCustom(...e),["prevent"]))},"Outro Valor",2),t[7]||(t[7]=Object(n["d"])("hr",null,null,-1))]),v.useCustomAmount?(Object(n["h"])(),Object(n["c"])("div",i,[t[8]||(t[8]=Object(n["d"])("label",null,"Valor personalizado:",-1)),Object(n["f"])(h,{amount:v.amount,ref:"customAmountInput",onUpdateAmount:v.updateAmount},null,8,["amount","onUpdateAmount"])])):Object(n["b"])("",!0),Object(n["d"])("div",b,Object(n["k"])(v.errorMsg),1),v.submitted?(Object(n["h"])(),Object(n["c"])("div",m,[v.payLink?Object(n["b"])("",!0):(Object(n["h"])(),Object(n["c"])("div",d,[Object(n["f"])(A)])),Object(n["o"])(Object(n["d"])("div",null,[Object(n["d"])("p",j,[Object(n["d"])("a",{href:v.payLink,ref:"aPayLink",target:"_blank"},"Clique aqui",8,O),t[10]||(t[10]=Object(n["e"])(" para prosseguir",-1))])],512),[[n["m"],v.payLink]])])):(Object(n["h"])(),Object(n["c"])("div",p,[...t[9]||(t[9]=[Object(n["d"])("button",{class:"submit"},"Doar",-1)])])),v.payLink?Object(n["b"])("",!0):(Object(n["h"])(),Object(n["c"])("p",f,[...t[11]||(t[11]=[Object(n["e"])("Contibuição feita via ",-1),Object(n["d"])("a",{href:"https://pbintegracoes.com/doar-com-pagseguro/?utm_source=doarbox",target:"_blank"},"PagBank UOL",-1)])]))],32)}o("d9e2");function g(e,t,o,c,u,r){return Object(n["o"])((Object(n["h"])(),Object(n["c"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>c.customAmount=e),onBlur:t[1]||(t[1]=(...e)=>c.formatAndUpdateAmount&&c.formatAndUpdateAmount(...e)),onFocus:t[2]||(t[2]=(...e)=>c.removeSymbol&&c.removeSymbol(...e)),ref:"customAmountInput",placeholder:"R$ 123,99",class:"customAmountInput"},null,544)),[[n["l"],c.customAmount]])}var y={name:"CustomAmountInput",props:["amount"],setup(e,{emit:t}){const o=Object(n["i"])(""),c=Object(n["i"])(null),u=Object(n["i"])(""),r=()=>{let e=parseFloat(1*o.value.replace(/[^0-9,\.]+/,"").replace(".","").replace(",","."));t("updateAmount",e),u.value=e.toLocaleString("pt-br",{style:"currency",currency:"BRL"}),o.value=u.value},a=()=>{o.value=o.value.replace(/[^0-9,\.]+/,"")};return{customAmount:o,customAmountInput:c,formattedAmountWithSymbol:u,removeSymbol:a,formatAndUpdateAmount:r}},mounted(){this.$nextTick((function(){this.$el.focus()}))}},h=o("6b0d"),A=o.n(h);const k=A()(y,[["render",g]]);var C=k;const S={class:"spin"};function I(e,t,o,c,u,r){return Object(n["h"])(),Object(n["c"])("div",S)}var q={name:"Spinner"};o("9c17");const w=A()(q,[["render",I],["__scopeId","data-v-39ef9381"]]);var U=w,_={name:"App",components:{Spinner:U,CustomAmountInput:C},props:{receiverKey:{type:String,required:!0}},setup(){const e=Object(n["i"])(0),t=Object(n["i"])(!1),o=Object(n["i"])(""),c=Object(n["i"])(null),u=Object(n["i"])("U"),r=Object(n["i"])(""),a=Object(n["i"])(!1),s=Object(n["i"])(null),l=Object(n["i"])(null),i=Object(n["i"])("Contribua com nosso projeto"),b=Object(n["i"])("https://cdn.jsdelivr.net/gh/r-martins/doacao-pagseguro@2/src/assets/pagseguro-contribua.png");function p(){t.value=!0,e.value=0,setTimeout(()=>{},1)}function m(){a.value=!0,r.value="",s.value="";let t=new FormData;t.append("amount",e.value),t.append("frequency",u.value),t.append("receiverEmail",document.getElementById("doar-pagseguro").dataset.receiveremail),fetch("https://ws.pbintegracoes.com/pspro/v7/donate/new",{method:"POST",body:t}).then(e=>e.json()).then(e=>{if(console.log(e),e.error)throw Error(e.error.message+" (err:"+e.error.code+")");e.redirectTo&&(s.value=e.redirectTo)}).catch(e=>{console.log(e),a.value=!1,r.value=e.message})}function d(t){e.value=t}return Object(n["n"])(e,()=>{a.value=!1}),{amount:e,useCustomAmount:t,customAmount:o,setUseCustom:p,customAmountInput:c,updateAmount:d,frequency:u,handleSubmit:m,errorMsg:r,submitted:a,payLink:s,aPayLink:l,logo:b,title:i}},beforeMount(){document.getElementById("doar-pagseguro").dataset.title&&(this.title=document.getElementById("doar-pagseguro").dataset.title),document.getElementById("doar-pagseguro").dataset.logo&&(this.logo=document.getElementById("doar-pagseguro").dataset.logo)}};o("1eba");const L=A()(_,[["render",v],["__scopeId","data-v-099f037a"]]);var P=L;Object(n["a"])(P).mount("#doar-pagseguro")},"9c17":function(e,t,o){"use strict";o("b167")},b167:function(e,t,o){}});
//# sourceMappingURL=app.js.map